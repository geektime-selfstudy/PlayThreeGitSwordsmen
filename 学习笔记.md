## 配置user信息

配置user.name 和 user.email

git config --global user.name 'your_username'

git config --global user.email 'your_email@domain.com'

### config的三个作用域

缺省等同于local

1. git config --local    只对某个仓库有效
2. git config --global 只对当前用户所有仓库有效
3. git config --system   对系统所有登录的用户有效


显示config现有的配置，可以加上--list

1. git config --list --local
2. git config --list --global
3. git config --list --system


注意：local的作用 > gloabl的作用 > system的作用


---------------------

## 建造Git仓库

### 场景一：项目代码已经存在
1. cd 项目所在文件夹
2. git init

### 场景二：新建的项目
1. git init 项目名称

> git 将会帮助我们新建项目文件夹，同时还会帮助我们git init该目录




---------------------

## 向仓库里添加文件
当我们创建一个新的文件时，只存在于工作区，Git并没有将其纳入管理
1. 使用git add命令之后，将会对指定的文件进行管控，并将其放入暂存区
2. 使用git commit命令之后，将会把项目加入到版本历史中

**对于我们已经使用git add命令管控的文件，当文件发生更新的时候，我们可以使用git add -u命令将新变化提交到暂存区，而不必再使用git add 文件名**


---------------------

## 给文件重命名的简便方法

复杂操作：
1. 使用mv将文件重命名
2. 使用git add 将新文件名加入到暂存区
3. 使用git rm 删除旧文件名

简便操作：
直接使用git mv 命令重命名文件即可！


---------------------

## git log命令查看版本演变历史
对于版本演变历史，可以使用git log命令进行查看，但是我们通常会带一些可选参数

注意：git log查看到的是当前分支的版本历史，其他版本并没有显示

### git log --oneline 将每次commit简写为一行(简洁)，打印全部的版本演变历史记录

#### 直接使用git log命令展示的一个commit

```git

commit 5ac055562f1425823796952a49f01096aa338bf0 (HEAD -> master)
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 20:05:41 2019 +0800

    modify readme to readme.md


```

#### 使用git log --oneline 命令展示的commit

```git

5ac0555 (HEAD -> master) modify readme to readme.md
64df83f add readme
52524fe Add js
a234546 add styles
5035852 Add index.html
2d5952a add README.md

```

### 只关心最近的几个commit
> git log -n3   # 展示最近的3个commit记录，可以自定义
> git log -n3 --oneline # 可以结合使用

### 查看所有分支的版本演变历史
> git log --all
> git log --all --graph # 通过图形化的描述将所有版本演变历史更加形象的展示出来
> git log --all --oneline -n4 # 最近4个所有版本的提交记录
> git log --all --oneline --graph 分支名 # 由于有--all 将会展示所有分支的记录。
> git log --oneline --graph 分支名 # 只会展示指定分支的记录


可以通过命令git help log查看git文档中关于git log的用法


### 其他命令
> git branch # 查看当前拥有的分支，前面带有*号的表示当前所使用的分支
> git branch -v # 查看当前所有分支以及每个分支的最后一次提交记录，前面带有*号的表示当前所使用的分支
> git commit -am'提交记录' # 将当前修改过后还没有git add修改的文件 直接加入到暂存区(-a参数意思是直接忽略将变更从工作去加入到暂存区的过程)。 **不推荐使用**
> git checkout -b 版本名 版本历史的数字号  # 将会在版本历史的数字号提交的记录后创建一个新的分支
> git checkout 版本名 # 切换到指定的版本名
> git branch -D 版本名  # 删除指定的版本名


---------------------

## gitk 图形化显示版本历史




---------------------

## 探索.git目录
> 为何git不需要远程支持就可以实现本地的最优存储以及版本控制？
在我们使用git init命令初始化之后,就会形成一个.git目录,里面包含了整个git的精髓

### 目录介绍
1. HEAD文件：里面的内容就是当前工作的分支，是一个引用，指向refs/head中的分支
2. config文件：存放与仓库配置相关的信息，例如我们使用git config --local 配置用户名和邮箱的内容就存放在里面，当修改config文件中对应的内容的时候，配置的用户名也会跟着修改
3. refs文件夹：heads文件夹用来存放每个分支，其中每个文件都是一个commit类型(使用git cat-file -t 文件名    来查看文件类型，里面的内容都是对应分支最后一次提交的hash值)，tags用来存放标签(里程碑，例如标注项目开发的进度)，每个标签都是一个commit，可以采用git cat-file -p commit文件名 来查看commit中的内容
4. objects文件夹：里面有很多文件夹，其中pack用于存放打包之后的数据，其他随机生成的文件夹里面都是一个tree类型的文件, 查看文件内容有的会指向其他tree和blob, 其中要注意**查看的时候需要使用git cat-file -p 文件名(前面要加上两个字符的父文件名)**

```shell
yirufeng@ubuntu:~/git_repository/git_learning/.git/objects/ff$ ls -al
总用量 12
drwxr-xr-x  2 yirufeng yirufeng 4096 4月  17 11:58 .
drwxr-xr-x 33 yirufeng yirufeng 4096 4月  17 12:04 ..
-r--r--r--  1 yirufeng yirufeng  180 4月  17 11:58 444a00fb8079f1a653a1f6e9dd304358a41a59
yirufeng@ubuntu:~/git_repository/git_learning/.git/objects/ff$ git cat-file -p ff444a



```


> 为何有的时候commit的hash值很短，因为只要长度足够区分所有的commit就可以显示了！
> git config --local 属性名(user.name)  # 打印该仓库的用户名

注意：在文件中，只要任何文件内容相同，那么在git中就是唯一的一个blob(不管文件名是否相同)，这么做的好处在哪里呢？

### 其他命令
1. git branch -av
2. git cat-file -t 文件名  # 查看文件名的类型
3. git cat-file-p 文件名  # 查看commit类型的文件内容 

总结：这节课我们探索.git目录，发现了git 中的三个对象，commit对象，tree对象，blob文件对象(核心)


-----------------------

## commit, blob, tree三个对象之间的关系
> git最核心的就是存储，因为是版本管控，所以设计一个良好的存储机制对于版本管控系统来说非常关键

一个commit对应一棵树，每颗树又对应了当时的commit快照，可以通过tree(里面可能包含了小的树，可以层层直到找到文件即可)找到当时commit之后的状态, 

-----------------------



## 小练习：数一数tree的个数
**没有文件的文件夹 git 是不会理会的**

1. 当我们创建一个空文件夹的时候，git将不会去理会
2. 当我们在新创建的文件夹下创建一个新文件，并使用git add命令将其纳入管控之后，将会在objects目录下生成一个blob类型的文件，内容就是新文件的内容
3. 当我们使用git commit 命令提交的时候，将会生成commit对象以及tree对象,并且tree自己个人感觉是对应目录下被git管控的文件，如果当前目录还有个目录和文件，那么一个肯定是tree另一个肯定是blob类型的文件

```shell
yirufeng@ubuntu:~/git_repository/PlayThreeGitSwordsmen$ cd ..
yirufeng@ubuntu:~/git_repository$ git init hello_git
已初始化空的 Git 仓库于 /home/yirufeng/git_repository/hello_git/.git/
yirufeng@ubuntu:~/git_repository$ cd hello_git/
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al
总用量 12
drwxr-xr-x 3 yirufeng yirufeng 4096 4月  18 14:10 .
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:10 ..
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:10 .git
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/
总用量 40
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:10 .
drwxr-xr-x 3 yirufeng yirufeng 4096 4月  18 14:10 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 branches
-rw-r--r-- 1 yirufeng yirufeng   92 4月  18 14:10 config
-rw-r--r-- 1 yirufeng yirufeng   73 4月  18 14:10 description
-rw-r--r-- 1 yirufeng yirufeng   23 4月  18 14:10 HEAD
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 hooks
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 info
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:10 objects
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:10 refs
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/obj
ls: 无法访问'.git/obj': 没有那个文件或目录
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/objects/
总用量 16
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:10 .
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:10 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 info
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 pack
yirufeng@ubuntu:~/git_repository/hello_git$ echo 'hello world' > ^C
yirufeng@ubuntu:~/git_repository/hello_git$ mkdir doc
yirufeng@ubuntu:~/git_repository/hello_git$ ls
doc
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/objects/
总用量 16
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:10 .
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:10 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 info
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 pack
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/objects/info/
总用量 8
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 .
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:10 ..
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/objects/info/^C
yirufeng@ubuntu:~/git_repository/hello_git$ git status
位于分支 master

尚无提交

无文件要提交（创建/拷贝文件并使用 "git add" 建立跟踪）
yirufeng@ubuntu:~/git_repository/hello_git$ echo 'hello wordl' > /doc/readme
bash: /doc/readme: 没有那个文件或目录
yirufeng@ubuntu:~/git_repository/hello_git$ echo 'hello wordl' > ./doc/readme
yirufeng@ubuntu:~/git_repository/hello_git$ git status
位于分支 master

尚无提交

未跟踪的文件:
  （使用 "git add <文件>..." 以包含要提交的内容）

	doc/

提交为空，但是存在尚未跟踪的文件（使用 "git add" 建立跟踪）
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/objects/
总用量 16
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:10 .
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:12 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 info
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 pack
yirufeng@ubuntu:~/git_repository/hello_git$ git add ^C
yirufeng@ubuntu:~/git_repository/hello_git$ git status
位于分支 master

尚无提交

未跟踪的文件:
  （使用 "git add <文件>..." 以包含要提交的内容）

	doc/

提交为空，但是存在尚未跟踪的文件（使用 "git add" 建立跟踪）
yirufeng@ubuntu:~/git_repository/hello_git$ git add doc/
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/objects/
总用量 20
drwxr-xr-x 5 yirufeng yirufeng 4096 4月  18 14:12 .
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:12 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:12 82
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 info
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 pack
yirufeng@ubuntu:~/git_repository/hello_git$ ls -al .git/objects/82
总用量 12
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:12 .
drwxr-xr-x 5 yirufeng yirufeng 4096 4月  18 14:12 ..
-r--r--r-- 1 yirufeng yirufeng   28 4月  18 14:12 c92fd6dc75e207db690ce671e32a350244a779
yirufeng@ubuntu:~/git_repository/hello_git$ cd .git/objects/82
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects/82$ git cat-file -t 82c9
blob
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects/82$ git cat-file -p 82c9
hello wordl
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects/82$ cd ..
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ cd .
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ cd ..
yirufeng@ubuntu:~/git_repository/hello_git/.git$ cd ..
yirufeng@ubuntu:~/git_repository/hello_git$ git status
位于分支 master

尚无提交

要提交的变更：
  （使用 "git rm --cached <文件>..." 以取消暂存）

	新文件：   doc/readme

yirufeng@ubuntu:~/git_repository/hello_git$ git commit -m'Add readme'
[master （根提交） a554b0e] Add readme
 1 file changed, 1 insertion(+)
 create mode 100644 doc/readme
yirufeng@ubuntu:~/git_repository/hello_git$ cd .git/objects/82
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects/82$ ls -al
总用量 12
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:12 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
-r--r--r-- 1 yirufeng yirufeng   28 4月  18 14:12 c92fd6dc75e207db690ce671e32a350244a779
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects/82$ cd ..
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ cd ..
yirufeng@ubuntu:~/git_repository/hello_git/.git$ ls -al ./refs
总用量 16
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:10 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 heads
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 tags
yirufeng@ubuntu:~/git_repository/hello_git/.git$ git log
commit a554b0efb883df4bc54491bb7d97e4f352637951 (HEAD -> master)
Author: sivanWu0222 <yirufeng@foxmail.com>
Date:   Thu Apr 18 14:15:26 2019 +0800

    Add readme
yirufeng@ubuntu:~/git_repository/hello_git/.git$ ls -al
总用量 52
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 .
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:11 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 branches
-rw-r--r-- 1 yirufeng yirufeng   11 4月  18 14:15 COMMIT_EDITMSG
-rw-r--r-- 1 yirufeng yirufeng   92 4月  18 14:10 config
-rw-r--r-- 1 yirufeng yirufeng   73 4月  18 14:10 description
-rw-r--r-- 1 yirufeng yirufeng   23 4月  18 14:10 HEAD
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 hooks
-rw-r--r-- 1 yirufeng yirufeng  173 4月  18 14:15 index
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 info
drwxr-xr-x 3 yirufeng yirufeng 4096 4月  18 14:15 logs
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 objects
drwxr-xr-x 4 yirufeng yirufeng 4096 4月  18 14:10 refs
yirufeng@ubuntu:~/git_repository/hello_git/.git$ cd objects/
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ ls -al
总用量 32
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 26
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 27
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:12 82
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 a5
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 info
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 pack
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ ls -al 26
总用量 12
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
-r--r--r-- 1 yirufeng yirufeng   45 4月  18 14:15 f355b5fbd5d1d9853556244d8f5b92f7f1d7b0
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ git cat-file -t 26f355
tree
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ git cat-file -p 26f355
040000 tree 2703e839c2052735b78d3b856c385ce79502ed1b	doc
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ ls -al 26
总用量 12
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
-r--r--r-- 1 yirufeng yirufeng   45 4月  18 14:15 f355b5fbd5d1d9853556244d8f5b92f7f1d7b0
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ ls -al
总用量 32
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 26
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 27
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:12 82
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 a5
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 info
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:10 pack
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ ls -al 27
总用量 12
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
-r--r--r-- 1 yirufeng yirufeng   51 4月  18 14:15 03e839c2052735b78d3b856c385ce79502ed1b
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ git cat-file -t 2703e
tree
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ git cat-file -p 2703e
100644 blob 82c92fd6dc75e207db690ce671e32a350244a779	readme
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ ls -al ./82
总用量 12
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:12 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
-r--r--r-- 1 yirufeng yirufeng   28 4月  18 14:12 c92fd6dc75e207db690ce671e32a350244a779
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ git cat-file -t 82c92
blob
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ git cat-file -p 82c92
hello wordl
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ git cat-file -t 82c92^C
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ 
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ ls -al a5
总用量 12
drwxr-xr-x 2 yirufeng yirufeng 4096 4月  18 14:15 .
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  18 14:15 ..
-r--r--r-- 1 yirufeng yirufeng  131 4月  18 14:15 54b0efb883df4bc54491bb7d97e4f352637951
yirufeng@ubuntu:~/git_repository/hello_git/.git/objects$ git cat-file -p a554b
tree 26f355b5fbd5d1d9853556244d8f5b92f7f1d7b0
author sivanWu0222 <yirufeng@foxmail.com> 1555568126 +0800
committer sivanWu0222 <yirufeng@foxmail.com> 1555568126 +0800

Add readme


```
---------------------------


## 分离头指针情况下的注意事项

**分离投指针：英文名叫做detached head**

分离头指针：本**质上就是变更没有基于某个branch去做**，所以当我们进行分支切换的时候，在分离头指针情况下的commit极有可能会被git当作垃圾处理，**如果变更很重要，切记和某个分支绑定在一起**
- 坏处：当我们工作在分离头指针的情况下，此时我们并没有工作在任何分支上，所以此时我们所做的commit并没有被git保存下来，当我们切换分支的时候，git会把我们分离头指针情况下的改动当作垃圾清除掉！
- 好处：当我们处在分离头指针的情况下，可以独自开发我们想要尝试性的功能，当我们觉得行不通的时候，切换分支即可，此时git会把分离头指针所作的工作清除掉！


```Shell
yirufeng@ubuntu:~/git_repository$ cd git_learning/
yirufeng@ubuntu:~/git_repository/git_learning$ git status
位于分支 test
无文件要提交，干净的工作区
yirufeng@ubuntu:~/git_repository/git_learning$ ls -al
总用量 16
drwxr-xr-x 3 yirufeng yirufeng 4096 4月  17 12:03 .
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:10 ..
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  20 15:16 .git
-rw-r--r-- 1 yirufeng yirufeng  416 4月  17 12:03 README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git log
commit 90bcbd37830262ce86106e9e719a2b6601432d97 (HEAD -> test)
Author: yirufeng <1666762170@qq.com>
Date:   Wed Apr 17 12:04:04 2019 +0800

    修改README.md

commit 2d5952a943b50136b5054907bf78f0d0c5812760
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 14:44:00 2019 +0800

    add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git checkout 2d5952a943b5
注意：正在检出 '2d5952a943b5'。

您正处于分离头指针状态。您可以查看、做试验性的修改及提交，并且您可以通过另外
的检出分支操作丢弃在这个状态下所做的任何提交。

如果您想要通过创建分支来保留在此状态下所做的提交，您可以通过在检出命令添加
参数 -b 来实现（现在或稍后）。例如：

  git checkout -b <新分支名>

HEAD 目前位于 2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git log
commit 2d5952a943b50136b5054907bf78f0d0c5812760 (HEAD)
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 14:44:00 2019 +0800

    add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ sudo gedit README.md 
[sudo] yirufeng 的密码： 
yirufeng@ubuntu:~/git_repository/git_learning$ git status
头指针分离于 2d5952a
尚未暂存以备提交的变更：
  （使用 "git add <文件>..." 更新要提交的内容）
  （使用 "git checkout -- <文件>..." 丢弃工作区的改动）

	修改：     README.md

修改尚未加入提交（使用 "git add" 和/或 "git commit -a"）
yirufeng@ubuntu:~/git_repository/git_learning$ git commit -am'Modify README.md'
[分离头指针 ccf6312] Modify README.md
 1 file changed, 1 insertion(+), 1 deletion(-)
yirufeng@ubuntu:~/git_repository/git_learning$ git log --all --oneline
ccf6312 (HEAD) Modify README.md
90bcbd3 (test) 修改README.md
5ac0555 (master) modify readme to readme.md
64df83f add readme
52524fe Add js
a234546 add styles
5035852 Add index.html
2d5952a add README.md

yirufeng@ubuntu:~/git_repository/git_learning$ git branch -av
  master                   5ac0555 modify readme to readme.md
  test                     90bcbd3 修改README.md
* （头指针分离自 2d5952a） ccf6312 Modify README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git checkout master 
警告：您正丢下 1 个提交，未和任何分支关联：

  ccf6312 Modify README.md

如果您想要通过创建新分支保存它，这可能是一个好时候。
如下操作：

 git branch <新分支名> ccf6312

切换到分支 'master'
yirufeng@ubuntu:~/git_repository/git_learning$ git branch readm2 ccf6312
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -av
* master 5ac0555 modify readme to readme.md
  readm2 ccf6312 Modify README.md
  test   90bcbd3 修改README.md
yirufeng@ubuntu:~/git_repository/git_learning$ 


```



> commit 2d5952a943b50136b5054907bf78f0d0c5812760 (HEAD)
从上面的输出可以看到，HEAD并没有指向任何的分支，因此当前处于分离头指针的状态

当我们切换分支的时候，git还会善意提醒我们是否要丢第当前的commit，并且还会提示我们去为分离头指针的操作创建branch
> git branch <新分支名> ccf6312

**如果我们想要保存分离头指针后的commit可以采用上面的命令，如果不想保存，直接忽略**


结论：**从分离头指针这里不难看出，HEAD不仅仅可以指向分支，还可以指向commit**



---------------------------

## 进一步理解HEAD和branch

> HEAD绝大多数情况下都指向一个分支，但是在分离头指针的情况下，HEAD并没有指向分支，而是指向一个commit

**HEAD不仅可以指向新分支的最后一次提交，还可以不和分支挂钩，也就是处于分离头指针的情况**

当我们切换分支的时候，HEAD也会跟着变动，可以查看.git/HEADS文件

虽然HEAD大部分情况下指向分支，其实分支是指向某一个commit的，所以归根结底也就是HEAD是指向某一个commit，只不过有一个中间者叫做分支


### HEAD的一些便捷用法
> 因为HEAD指向某个commit或分支，所以有些时候这个可以当作指代来使用

1. 比较两个commit的差异 git diff commit1的hash commit2的hash
2. git diff HEAD HEAD~1  # 比较HEAD和前面一个的差异
3. git diff HEAD HEAD~  # 比较HEAD和前面一个的差异
4. git diff HEAD HEAD^1  # 比较HEAD和父亲的差异
5. git diff HEAD HEAD^  # 默认后面是1，等同于上面3条命令，比较HEAD和父亲的差异
6. git diff HEAD HEAD^^  # 比较和父亲的父亲的差异
7. git diff HEAD HEAD^2  # 


```shell

yirufeng@ubuntu:~$ cd git_repository/
yirufeng@ubuntu:~/git_repository$ cd git_learning/
yirufeng@ubuntu:~/git_repository/git_learning$ git status
位于分支 test
无文件要提交，干净的工作区
yirufeng@ubuntu:~/git_repository/git_learning$ ls -al
总用量 16
drwxr-xr-x 3 yirufeng yirufeng 4096 4月  17 12:03 .
drwxr-xr-x 7 yirufeng yirufeng 4096 4月  18 14:10 ..
drwxr-xr-x 8 yirufeng yirufeng 4096 4月  20 15:16 .git
-rw-r--r-- 1 yirufeng yirufeng  416 4月  17 12:03 README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git log
commit 90bcbd37830262ce86106e9e719a2b6601432d97 (HEAD -> test)
Author: yirufeng <1666762170@qq.com>
Date:   Wed Apr 17 12:04:04 2019 +0800

    修改README.md

commit 2d5952a943b50136b5054907bf78f0d0c5812760
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 14:44:00 2019 +0800

    add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git checkout 2d5952a943b5
注意：正在检出 '2d5952a943b5'。

您正处于分离头指针状态。您可以查看、做试验性的修改及提交，并且您可以通过另外
的检出分支操作丢弃在这个状态下所做的任何提交。

如果您想要通过创建分支来保留在此状态下所做的提交，您可以通过在检出命令添加
参数 -b 来实现（现在或稍后）。例如：

  git checkout -b <新分支名>

HEAD 目前位于 2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git log
commit 2d5952a943b50136b5054907bf78f0d0c5812760 (HEAD)
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 14:44:00 2019 +0800

    add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ sudo gedit README.md 
[sudo] yirufeng 的密码： 
yirufeng@ubuntu:~/git_repository/git_learning$ git status
头指针分离于 2d5952a
尚未暂存以备提交的变更：
  （使用 "git add <文件>..." 更新要提交的内容）
  （使用 "git checkout -- <文件>..." 丢弃工作区的改动）

	修改：     README.md

修改尚未加入提交（使用 "git add" 和/或 "git commit -a"）
yirufeng@ubuntu:~/git_repository/git_learning$ git commit -am'Modify README.md'
[分离头指针 ccf6312] Modify README.md
 1 file changed, 1 insertion(+), 1 deletion(-)
yirufeng@ubuntu:~/git_repository/git_learning$ git log --all --oneline
ccf6312 (HEAD) Modify README.md
90bcbd3 (test) 修改README.md
5ac0555 (master) modify readme to readme.md
64df83f add readme
52524fe Add js
a234546 add styles
5035852 Add index.html
2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -av
  master                   5ac0555 modify readme to readme.md
  test                     90bcbd3 修改README.md
* （头指针分离自 2d5952a） ccf6312 Modify README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git checkout master 
警告：您正丢下 1 个提交，未和任何分支关联：

  ccf6312 Modify README.md

如果您想要通过创建新分支保存它，这可能是一个好时候。
如下操作：

 git branch <新分支名> ccf6312

切换到分支 'master'
yirufeng@ubuntu:~/git_repository/git_learning$ git branch readm2 ccf6312
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -av
* master 5ac0555 modify readme to readme.md
  readm2 ccf6312 Modify README.md
  test   90bcbd3 修改README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -av
* master 5ac0555 modify readme to readme.md
  readm2 ccf6312 Modify README.md
  test   90bcbd3 修改README.md
yirufeng@ubuntu:~/git_repository/git_learning$ cat .git/HEAD 
ref: refs/heads/master
yirufeng@ubuntu:~/git_repository/git_learning$ git diff 5ac0555 ccf6312
diff --git a/README.md b/README.md
index a628f89..6997cdd 100644
--- a/README.md
+++ b/README.md
@@ -8,4 +8,4 @@
         <tr><td>1</td><td>无</td><td>2</td><td>安装Git</td></tr>
         <tr><td>2</td><td>无</td><td>3</td><td>使用Git之前所需要的最小配置</td></tr>
 </tbody>
-</table>
+</table>test
diff --git a/images/gh-branch.png b/images/gh-branch.png
deleted file mode 100644
index cb8bf67..0000000
Binary files a/images/gh-branch.png and /dev/null differ
diff --git a/images/gh-logo.png b/images/gh-logo.png
deleted file mode 100644
index c2d35cc..0000000
Binary files a/images/gh-logo.png and /dev/null differ
diff --git a/index.html b/index.html
deleted file mode 100644
index a0ba2c3..0000000
--- a/index.html
+++ /dev/null
yirufeng@ubuntu:~/git_repository/git_learning$ git diff HEAD HEAD~1
diff --git a/README.md b/README.md
index 13c2f12..a628f89 100644
--- a/README.md
+++ b/README.md
@@ -3,7 +3,7 @@
 
 ## 学习记录表
 
-weq
+
 <table><th><tr><td>序号</td><td>文件名</td><td>对应的视频</td><td>主要讲解的内容</td></tr></th><tbody>
         <tr><td>1</td><td>无</td><td>2</td><td>安装Git</td></tr>
         <tr><td>2</td><td>无</td><td>3</td><td>使用Git之前所需要的最小配置</td></tr>
yirufeng@ubuntu:~/git_repository/git_learning$ git diff HEAD HEAD~2
fatal: 有歧义的参数 'HEAD~2'：未知的版本或路径不存在于工作区中。
使用 '--' 来分隔版本和路径，例如：
'git <命令> [<版本>...] -- [<文件>...]'
yirufeng@ubuntu:~/git_repository/git_learning$ git diff HEAD HEAD~3
fatal: 有歧义的参数 'HEAD~3'：未知的版本或路径不存在于工作区中。
使用 '--' 来分隔版本和路径，例如：
'git <命令> [<版本>...] -- [<文件>...]'
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline
90bcbd3 (HEAD -> test2, test) 修改README.md
2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git diff HEAD HEAD^
diff --git a/README.md b/README.md
index 13c2f12..a628f89 100644
--- a/README.md
+++ b/README.md
@@ -3,7 +3,7 @@
 
 ## 学习记录表
 
-weq
+
 <table><th><tr><td>序号</td><td>文件名</td><td>对应的视频</td><td>主要讲解的内容</td></tr></th><tbody>
         <tr><td>1</td><td>无</td><td>2</td><td>安装Git</td></tr>
         <tr><td>2</td><td>无</td><td>3</td><td>使用Git之前所需要的最小配置</td></tr>
yirufeng@ubuntu:~/git_repository/git_learning$ git diff HEAD HEAD^1
diff --git a/README.md b/README.md
index 13c2f12..a628f89 100644
--- a/README.md
+++ b/README.md
@@ -3,7 +3,7 @@
 
 ## 学习记录表
 
-weq
+
 <table><th><tr><td>序号</td><td>文件名</td><td>对应的视频</td><td>主要讲解的内容</td></tr></th><tbody>
         <tr><td>1</td><td>无</td><td>2</td><td>安装Git</td></tr>
         <tr><td>2</td><td>无</td><td>3</td><td>使用Git之前所需要的最小配置</td></tr>
yirufeng@ubuntu:~/git_repository/git_learning$ git diff HEAD HEAD^2
fatal: 有歧义的参数 'HEAD^2'：未知的版本或路径不存在于工作区中。
使用 '--' 来分隔版本和路径，例如：
'git <命令> [<版本>...] -- [<文件>...]'
yirufeng@ubuntu:~/git_repository/git_learning$ git diff HEAD HEAD~
diff --git a/README.md b/README.md
index 13c2f12..a628f89 100644
--- a/README.md
+++ b/README.md
@@ -3,7 +3,7 @@
 
 ## 学习记录表
 
-weq
+
 <table><th><tr><td>序号</td><td>文件名</td><td>对应的视频</td><td>主要讲解的内容</td></tr></th><tbody>
         <tr><td>1</td><td>无</td><td>2</td><td>安装Git</td></tr>
         <tr><td>2</td><td>无</td><td>3</td><td>使用Git之前所需要的最小配置</td></tr>
yirufeng@ubuntu:~/git_repository/PlayThreeGitSwordsmen$ git diff HEAD HEAD^2
fatal: 有歧义的参数 'HEAD^2'：未知的版本或路径不存在于工作区中。
使用 '--' 来分隔版本和路径，例如：
'git <命令> [<版本>...] -- [<文件>...]'

yirufeng@ubuntu:~/git_repository/git_learning$ 

```


### 其他命令
1. git checkout -b 新分支名 基于哪次commit或者分支名        # 因为有一个-b参数，所以将会创建并切换分支

---------------------------

## 删除不需要的分支
1. git branch -d 分支名字
2. git branch -D 分支名字

> 当我们使用git branch -d 删除分支的时候，如果有报警说并没有完全合并，而且我们确实想要删除，并且风险可控，那么我们可以采用git branch -D 命令来删除分支


```shell
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -av
  master 5ac0555 modify readme to readme.md
  readm2 ccf6312 Modify README.md
  test   90bcbd3 修改README.md
* test2  90bcbd3 修改README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -d test2
error: 无法删除检出于 '/home/yirufeng/git_repository/git_learning' 的分支 'test2'。
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -D test2
error: 无法删除检出于 '/home/yirufeng/git_repository/git_learning' 的分支 'test2'。
yirufeng@ubuntu:~/git_repository/git_learning$ git checkout master 
切换到分支 'master'
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -d test2
error: 分支 'test2' 没有完全合并。
如果您确认要删除它，执行 'git branch -D test2'。
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -D test2
已删除分支 test2（曾为 90bcbd3）。
yirufeng@ubuntu:~/git_repository/git_learning$ 


```

**当我们要删除目前所在的分支，需要使用git checkout 分支名切换分支，然后再使用git branch -d或git branch -D命令进行删除，否则将无法删除**

---------------------------

## 对最近一次提交的message做变更

**使用git commit --ammend**命令进行变更

```shell
yirufeng@ubuntu:~/git_repository/git_learning$ git log -1
commit 5ac055562f1425823796952a49f01096aa338bf0 (HEAD -> master)
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 20:05:41 2019 +0800

    modify readme to readme.md
yirufeng@ubuntu:~/git_repository/git_learning$ git commit --amend
使用 "fg" 返回 nano 关闭文件... 

[2]+  已停止               git commit --amend
yirufeng@ubuntu:~/git_repository/git_learning$ git log -1
commit 5ac055562f1425823796952a49f01096aa338bf0 (HEAD -> master)
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 20:05:41 2019 +0800

    modify readme to readme.md
yirufeng@ubuntu:~/git_repository/git_learning$ git commit --amend
[master 683d9a1] rename : modify readme to readme.md
 Date: Tue Apr 16 20:05:41 2019 +0800
 1 file changed, 0 insertions(+), 0 deletions(-)
 rename readme => readme.md (100%)
yirufeng@ubuntu:~/git_repository/git_learning$ git log -1
commit 683d9a1445088ebe74cc58be300e6e58a3e1c98a (HEAD -> master)
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 20:05:41 2019 +0800

    rename : modify readme to readme.md


```

### 其他命令
1. git log -1  # 显示最近一次commit的信息


---------------------------

## 修改老旧commit的message (变基操作，离不开分离头指针)
> 如果我们需要对以前commit的message进行修改，要使用git rebase命令


每次commit 的message都对应commit对象的一个属性
**修改使用git rebase命令，如果我们已经将commit同步到远程仓库，将不能这么操作**

命令：git rebase -i 要修改的commit对应的上一次commit的hash值
**注意：参数-i表示使用交互式的界面进行变更，并且后面跟的不是我们要变更的commit对应的hash值，而是我们要修改的commit的父亲对应的hash值**

**我们只是修改了commit的message，对应的文件一个都没动，并且在我们修改的commit之后的commit的hash值（是否只有这个commit后代的hash值重新计算？还是全部都重新计算）都被重新计算**

**整个变更过程基于分离头指针完成，并且当前的分支的hash值也会被改变**



> 这里由于不会使用默认的nano编辑器，于是使用了 sudo update-alternatives --config editor命令修改编辑器为vim


```shell

yirufeng@ubuntu:~/git_repository/git_learning$ sudo update-alternatives --config editor
[sudo] yirufeng 的密码： 
有 4 个候选项可用于替换 editor (提供 /usr/bin/editor)。

  选择       路径              优先级  状态
------------------------------------------------------------
* 0            /bin/nano            40        自动模式
  1            /bin/ed             -100       手动模式
  2            /bin/nano            40        手动模式
  3            /usr/bin/vim.basic   30        手动模式
  4            /usr/bin/vim.tiny    15        手动模式

要维持当前值[*]请按<回车键>，或者键入选择的编号：3
update-alternatives: 使用 /usr/bin/vim.basic 来在手动模式中提供 /usr/bin/editor (editor)
yirufeng@ubuntu:~/git_repository/git_learning$ git rebase -i 52524fe
[分离头指针 1bd4e7f] Add readme
 Date: Tue Apr 16 20:03:47 2019 +0800
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 readme
Successfully rebased and updated refs/heads/master.
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline --all --n5
fatal: 未能识别的参数：--n5
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline --all -n5
89ef8ca (HEAD -> master) rename : modify readme to readme.md
1bd4e7f Add readme
ccf6312 (readm2) Modify README.md
90bcbd3 (test) 修改README.md
52524fe Add js
yirufeng@ubuntu:~/git_repository/git_learning$ git log
commit 89ef8caee1793bedaf2cd71bcec5c12601020986 (HEAD -> master)
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 20:05:41 2019 +0800

    rename : modify readme to readme.md

commit 1bd4e7fc606f59a9aca26dbafd95801dff53ce2e
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 20:03:47 2019 +0800

    Add readme

commit 52524fe85cc29b1d540fdf799e6cef10b6595b1f
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 19:51:26 2019 +0800

    Add js

commit a2345465bac6ce1088a24a9155aa264e170ff008
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 19:49:59 2019 +0800

    add styles
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline
68543f8 (HEAD -> master) rename : modify readme to readme.md
16c334a Add readme
af93b85 Add js
17221d8 Add styles
5035852 Add index.html
2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline --all
68543f8 (HEAD -> master) rename : modify readme to readme.md
16c334a Add readme
af93b85 Add js
17221d8 Add styles
ccf6312 (readm2) Modify README.md
90bcbd3 (test) 修改README.md
5035852 Add index.html
2d5952a add README.md
yirufeng@ubuntu:~$ git log --all --oneline --^Caph
yirufeng@ubuntu:~$ cd git_repository/
yirufeng@ubuntu:~/git_repository$ cd git_learning/
yirufeng@ubuntu:~/git_repository/git_learning$ git log --all --oneline --graph
* 89ef8ca (HEAD -> master) rename : modify readme to readme.md
* 1bd4e7f Add readme
* 52524fe Add js
* a234546 add styles
* 5035852 Add index.html
| * ccf6312 (readm2) Modify README.md
|/  
| * 90bcbd3 (test) 修改README.md
|/  
* 2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git log --all --oneline
89ef8ca (HEAD -> master) rename : modify readme to readme.md
1bd4e7f Add readme
ccf6312 (readm2) Modify README.md
90bcbd3 (test) 修改README.md
52524fe Add js
a234546 add styles
5035852 Add index.html
2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git rebase -i 2d5952a
[分离头指针 17221d8] Add styles
 Date: Tue Apr 16 19:49:59 2019 +0800
 1 file changed, 66 insertions(+)
 create mode 100644 styles/style.css
Successfully rebased and updated refs/heads/master.
yirufeng@ubuntu:~/git_repository/git_learning$ git log --all --oneline --graph
* 68543f8 (HEAD -> master) rename : modify readme to readme.md
* 16c334a Add readme
* af93b85 Add js
* 17221d8 Add styles
* 5035852 Add index.html
| * ccf6312 (readm2) Modify README.md
|/  
| * 90bcbd3 (test) 修改README.md
|/  
* 2d5952a add README.md


```


在使用git rebase -i 进入交互式界面之后使用 r 或 reword

```Shell
pick 5035852 Add index.html
pick 17221d8 Add styles
reword af93b85 Add js
pick 16c334a Add readme
pick 68543f8 rename : modify readme to readme.md

# 变基 2d5952a..68543f8 到 2d5952a（5 个提交）
#
# 命令:
# p, pick = 使用提交
# r, reword = 使用提交，但修改提交说明
# e, edit = 使用提交，但停止以便进行提交修补
# s, squash = 使用提交，但和前一个版本融合
# f, fixup = 类似于 "squash"，但丢弃提交说明日志
# x, exec = 使用 shell 运行命令（此行剩余部分）
# d, drop = 删除提交
#
# 这些行可以被重新排序；它们会被从上至下地执行。
#
# 如果您在这里删除一行，对应的提交将会丢失。
#


```

然后使用:wq!退出保存，此时进入下一个交互式界面修改对应的message即可

---------------------

## 如何把连续的多个commit整理成一个

**使用git rebase -i 要修改的commit对应的上一次commit的hash值**(同上一节课讲到的)





使用命令后进入如下交互式界面：
```Shell
pick 5035852 Add index.html
pick 17221d8 Add styles
pick af93b85 Add js
pick 16c334a Add readme
pick 68543f8 rename : modify readme to readme.md

# 变基 2d5952a..68543f8 到 2d5952a（5 个提交）
#
# 命令:
# p, pick = 使用提交
# r, reword = 使用提交，但修改提交说明
# e, edit = 使用提交，但停止以便进行提交修补
# s, squash = 使用提交，但和前一个版本融合
# f, fixup = 类似于 "squash"，但丢弃提交说明日志
# x, exec = 使用 shell 运行命令（此行剩余部分）
# d, drop = 删除提交
#
# 这些行可以被重新排序；它们会被从上至下地执行。
#
# 如果您在这里删除一行，对应的提交将会丢失。
#
# 然而，如果您删除全部内容，变基操作将会终止。
#



```

修改为：
```shell
pick 5035852 Add index.html
s 17221d8 Add styles
s af93b85 Add js
s 16c334a Add readme
pick 68543f8 rename : modify readme to readme.md

# 变基 2d5952a..68543f8 到 2d5952a（5 个提交）
#
# 命令:
# p, pick = 使用提交
# r, reword = 使用提交，但修改提交说明
# e, edit = 使用提交，但停止以便进行提交修补
# s, squash = 使用提交，但和前一个版本融合
# f, fixup = 类似于 "squash"，但丢弃提交说明日志
# x, exec = 使用 shell 运行命令（此行剩余部分）
# d, drop = 删除提交
#
# 这些行可以被重新排序；它们会被从上至下地执行。
#
# 如果您在这里删除一行，对应的提交将会丢失。
#
# 然而，如果您删除全部内容，变基操作将会终止。
#

```
使用:wq!退出并保存

此时又会进入如下交互式界面， 修改其中的message
```shell
# 这是一个 4 个提交的组合。
初始化项目代码
# 这是第一个提交说明：
Add index.html
# 这是提交说明 #2：
Add styles
# 这是提交说明 #3：
Add js
# 这是提交说明 #4：
Add readme
# 请为您的变更输入提交说明。以 '#' 开始的行将被忽略，而一个空的提交
# 说明将会终止提交。
#
# 日期：  Tue Apr 16 19:48:32 2019 +0800
#
# 交互式变基操作正在进行中；至 2d5952a
# 最后一条命令已完成（4 条命令被执行）：
#    squash af93b85 Add js
#    squash 16c334a Add readme
# 接下来要执行的命令（剩余 1 条命令）：
#    pick 68543f8 rename : modify readme to readme.md
# 您在执行将分支 'temp' 变基到 '2d5952a' 的操作。
#


```


### 整个执行流程

```shell
yirufeng@ubuntu:~/git_repository/git_learning$ git checkout temp 
切换到分支 'temp'
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline
68543f8 (HEAD -> temp, master) rename : modify readme to readme.md
16c334a Add readme
af93b85 Add js
17221d8 Add styles
5035852 Add index.html
2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git rebase -i 2d5952a
Successfully rebased and updated refs/heads/temp.
yirufeng@ubuntu:~/git_repository/git_learning$ git rebase -i 2d5952a
Successfully rebased and updated refs/heads/temp.
yirufeng@ubuntu:~/git_repository/git_learning$ git rebase -i 2d5952a
[分离头指针 ac66589] 初始化项目代码 Add index.html Add styles Add js Add readme
 Date: Tue Apr 16 19:48:32 2019 +0800
 6 files changed, 157 insertions(+)
 create mode 100644 images/gh-branch.png
 create mode 100644 images/gh-logo.png
 create mode 100644 index.html
 create mode 100644 js/script.js
 create mode 100644 readme
 create mode 100644 styles/style.css
Successfully rebased and updated refs/heads/temp.
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline
3ffdbb3 (HEAD -> temp) rename : modify readme to readme.md
ac66589 初始化项目代码 Add index.html Add styles Add js Add readme
2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git branch -av
  master 68543f8 rename : modify readme to readme.md
  readm2 ccf6312 Modify README.md
* temp   3ffdbb3 rename : modify readme to readme.md
  test   90bcbd3 修改README.md
yirufeng@ubuntu:~/git_repository/git_learning$ 

```


---------------------

## 如何把间隔的几个commit整理成一个
> 大致操作步骤和连续的commit整理成一个一样

在使用git rebase -i 对应的commit的hash值的时候需要注意如下步骤：
1. 进入交互式界面之后，首先将要合并的间断的几个commit放到一起，并且在最早的要进行修改和合并的commit上将pick修改为s
2. 其余操作同连续的几个commit整理成一个一样



> 类比上面的操作步骤，如下操作流程：
```shell
yirufeng@ubuntu:~/git_repository/git_learning$ git rebase -i 52524fe
[分离头指针 1bd4e7f] Add readme
 Date: Tue Apr 16 20:03:47 2019 +0800
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 readme
Successfully rebased and updated refs/heads/master.
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline --all --n5
fatal: 未能识别的参数：--n5
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline --all -n5
89ef8ca (HEAD -> master) rename : modify readme to readme.md
1bd4e7f Add readme
ccf6312 (readm2) Modify README.md
90bcbd3 (test) 修改README.md
52524fe Add js
yirufeng@ubuntu:~/git_repository/git_learning$ git log
commit 89ef8caee1793bedaf2cd71bcec5c12601020986 (HEAD -> master)
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 20:05:41 2019 +0800

    rename : modify readme to readme.md

commit 1bd4e7fc606f59a9aca26dbafd95801dff53ce2e
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 20:03:47 2019 +0800

    Add readme

commit 52524fe85cc29b1d540fdf799e6cef10b6595b1f
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 19:51:26 2019 +0800

    Add js

commit a2345465bac6ce1088a24a9155aa264e170ff008
Author: yirufeng <1666762170@qq.com>
Date:   Tue Apr 16 19:49:59 2019 +0800

    add styles
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline
68543f8 (HEAD -> master) rename : modify readme to readme.md
16c334a Add readme
af93b85 Add js
17221d8 Add styles
5035852 Add index.html
2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git log --oneline --all
68543f8 (HEAD -> master) rename : modify readme to readme.md
16c334a Add readme
af93b85 Add js
17221d8 Add styles
ccf6312 (readm2) Modify README.md
90bcbd3 (test) 修改README.md
5035852 Add index.html
2d5952a add README.md
yirufeng@ubuntu:~$ git log --all --oneline --^Caph
yirufeng@ubuntu:~$ cd git_repository/
yirufeng@ubuntu:~/git_repository$ cd git_learning/
yirufeng@ubuntu:~/git_repository/git_learning$ git log --all --oneline --graph
* 89ef8ca (HEAD -> master) rename : modify readme to readme.md
* 1bd4e7f Add readme
* 52524fe Add js
* a234546 add styles
* 5035852 Add index.html
| * ccf6312 (readm2) Modify README.md
|/  
| * 90bcbd3 (test) 修改README.md
|/  
* 2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git log --all --oneline
89ef8ca (HEAD -> master) rename : modify readme to readme.md
1bd4e7f Add readme
ccf6312 (readm2) Modify README.md
90bcbd3 (test) 修改README.md
52524fe Add js
a234546 add styles
5035852 Add index.html
2d5952a add README.md
yirufeng@ubuntu:~/git_repository/git_learning$ git rebase -i 2d5952a
[分离头指针 17221d8] Add styles
 Date: Tue Apr 16 19:49:59 2019 +0800
 1 file changed, 66 insertions(+)
 create mode 100644 styles/style.css
Successfully rebased and updated refs/heads/master.
yirufeng@ubuntu:~/git_repository/git_learning$ git log --all --oneline --graph
* 68543f8 (HEAD -> master) rename : modify readme to readme.md
* 16c334a Add readme
* af93b85 Add js
* 17221d8 Add styles
* 5035852 Add index.html
| * ccf6312 (readm2) Modify README.md
|/  
| * 90bcbd3 (test) 修改README.md
|/  
* 2d5952a add README.md


```

**这里将要合并的Add readme与Add styles合并为 Add readme & styles**

在使用git rebase -i 进入交互式界面之后使用 r 或 reword

```Shell
pick 5035852 Add index.html
pick 17221d8 Add styles
pick af93b85 Add js
pick 16c334a Add readme
pick 68543f8 rename : modify readme to readme.md

# 变基 2d5952a..68543f8 到 2d5952a（5 个提交）
#
# 命令:
# p, pick = 使用提交
# r, reword = 使用提交，但修改提交说明
# e, edit = 使用提交，但停止以便进行提交修补
# s, squash = 使用提交，但和前一个版本融合
# f, fixup = 类似于 "squash"，但丢弃提交说明日志
# x, exec = 使用 shell 运行命令（此行剩余部分）
# d, drop = 删除提交
#
# 这些行可以被重新排序；它们会被从上至下地执行。
#
# 如果您在这里删除一行，对应的提交将会丢失。
#


```

修改为：

```Shell
pick 5035852 Add index.html
s 17221d8 Add styles
pick 16c334a Add readme
pick af93b85 Add js
pick 68543f8 rename : modify readme to readme.md

# 变基 2d5952a..68543f8 到 2d5952a（5 个提交）
#
# 命令:
# p, pick = 使用提交
# r, reword = 使用提交，但修改提交说明
# e, edit = 使用提交，但停止以便进行提交修补
# s, squash = 使用提交，但和前一个版本融合
# f, fixup = 类似于 "squash"，但丢弃提交说明日志
# x, exec = 使用 shell 运行命令（此行剩余部分）
# d, drop = 删除提交
#
# 这些行可以被重新排序；它们会被从上至下地执行。
#
# 如果您在这里删除一行，对应的提交将会丢失。
#


```

然后使用:wq!退出保存，此时进入下一个交互式界面修改对应的message即可



---------------------


## 配置公私钥
[参考](https://help.github.com/en/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)

1. 查看有无ssh文件，ls -al ~/.ssh
2. 如果没有可以采用如下命令生成公钥和私钥
3. 将公钥配置到GitHUb中的私人配置SSH Key上


> ssh-keygen -t rsa -b 4096 -C "your_email@example.com"


---------------------------

## 在GitHub上创建个人仓库
> 创建个人仓库的时候的README在其他用户通过关键字搜索仓库的时候起到很大作用，因为GitHub会用README匹配关键字


---------------------------

## 怎么快速找到感兴趣的开源项目

可以去 www.github.com/search/advanced 使用高级搜索

例如我们学习git 可以使用如下内容搜索git的学习资料：
- git 最好 学习 资料 in:readme

此时git将会去readme文件里面搜索git 最好 学习 资料 这几个关键字

- git 最好 学习 资料 in:readme stars:>5000
此时git将会去readme文件里面搜索git 最好 学习 资料 这几个关键字的仓库并且仓库的star要大于5000

- 'after-script:'+'stage:deploy' filename:.gitlab-ci.yml
在filename指定的文件里面搜索 前面的内容，这里就是搜索 after-script 和 stage:deploy
> gitlab的ci必须要有.gitlab-ci.yml文件

**根据filename搜索的会出现code，它并不是搜索仓库，只会局限于仓库，而是搜索代码片段**

- blog easily start in:readme stars:>5000
将会搜索在readme文件中出现blog、easily、start的单词，并且仓库的star数要超过5000

**注意：目前github搜索代码的方式无法和搜索仓库的方式相结合**
项目推广如何做：好好设计README


---------------------------


## 怎么在GitHUb上搭建个人博客

1. fork https://github.com/barryclark/jekyll-now 到自己的仓库中
2. 修改仓库名为 用户名或者组织名.github.io
3. 修改_config.yml
4. 创建.md文章，按照指定格式创建题目和博客内容
> 题目格式 ： 日期(yyyy-mm-dd-标题名字.md)



---------------------------


## 开源项目如何保证代码质量
> 通过pull request提交申请,然后如果被采纳，将会出现紫色的merged，否则将会出现红色的closed


---------------------------

## 为何需要组织类型的仓库

通过建立组织，并且纳入新的成员，实现对成员的管控，对成员可以操作的仓库的管控，对成员可以操作仓库权限的管控


---------------------------

## 采用issue跟踪需求和人物

1. 可以在每个项目的settings下设置issue模板，这样每个人在提交issue的时候就可以参考
2. issue可以被添上标签，例如in progress, code review, bug, help wanted等，可以促进改善项目的质量

